{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/quy/Videos/parking_webapp/pages/violation/googlemap_violation/googlemap_violation.jsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport MapOptions from \"../../../components/google_map_controlled\"; // import MarkerComponent from \"./marker\";\n\nimport { GoogleMap, InfoWindow } from \"react-google-maps\";\nimport ShapeNoparking from \"../googlemap_violation/marker\";\nimport InfowindowComponent from '../googlemap_violation/custominfowindow';\n\nfunction MapViolation(props) {\n  _s();\n\n  var _this = this;\n\n  // console.log(ref);\n  var vehicle = [_defineProperty({\n    path: [{\n      lat: 16.081238661120641,\n      lng: 108.16631503668134\n    }, {\n      lat: 16.073486130125332,\n      lng: 108.18519778814701\n    }],\n    lat: \"16.04319399907483\",\n    lng: \"108.21515312158203\",\n    image: \"\",\n    vehicle: \"43A-11491\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    typeVehicle: \"Ô tô\"\n  }, \"path\", [{\n    lat: 16.076374774161085,\n    lng: 108.2139774107824\n  }, {\n    lat: 16.076052733066728,\n    lng: 108.21375550832771\n  }, {\n    lat: 16.076374774161085,\n    lng: 108.2139774107824\n  }, {\n    lat: 16.076052733066728,\n    lng: 108.21375550832771\n  }, {\n    lat: 16.075806437660088,\n    lng: 108.21356892716311\n  }, {\n    lat: 16.075754569000555,\n    lng: 108.21352835875176\n  }, {\n    lat: 16.07553581841805,\n    lng: 108.21334563326262\n  }, {\n    lat: 16.07551101163577,\n    lng: 108.21332585197113\n  }, {\n    lat: 16.075346062563177,\n    lng: 108.21320012342356\n  }]), _defineProperty({\n    path: [{\n      lat: 16.081238661120793,\n      lng: 108.16631503668244\n    }, {\n      lat: 16.073486130125332,\n      lng: 108.18519778814701\n    }],\n    lat: \"16.075300\",\n    lng: \"108.223558\",\n    image: \"\",\n    vehicle: \"43A-11492\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\"\n  }, \"path\", [{\n    lat: 16.07274532559629,\n    lng: 108.20999447459961\n  }, {\n    lat: 16.072785919075752,\n    lng: 108.21019195223833\n  }, {\n    lat: 16.072844398302305,\n    lng: 108.21046420748551\n  }, {\n    lat: 16.072906577169032,\n    lng: 108.2107622679623\n  }, {\n    lat: 16.072962956953667,\n    lng: 108.21102914775928\n  }, {\n    lat: 16.0730054834092,\n    lng: 108.2112279665025\n  }, {\n    lat: 16.07305090938575,\n    lng: 108.21144723708947\n  }, {\n    lat: 16.07311212167817,\n    lng: 108.21175133253654\n  }, {\n    lat: 16.073168179234703,\n    lng: 108.21201653595288\n  }, {\n    lat: 16.07322359243598,\n    lng: 108.2122901212724\n  }, {\n    lat: 16.073295436272762,\n    lng: 108.21267099495252\n  }, {\n    lat: 16.07333345228353,\n    lng: 108.2128667962106\n  }, {\n    lat: 16.073420438043527,\n    lng: 108.21321146006902\n  }, {\n    lat: 16.07345072196587,\n    lng: 108.21333249475082\n  }, {\n    lat: 16.07347101863463,\n    lng: 108.21348806287368\n  }, {\n    lat: 16.073486804931125,\n    lng: 108.21359602178653\n  }, {\n    lat: 16.073515477997063,\n    lng: 108.21377237702926\n  }, {\n    lat: 16.07353931852066,\n    lng: 108.21391319300254\n  }, {\n    lat: 16.073554138304157,\n    lng: 108.21399600620587\n  }, {\n    lat: 16.073617527083105,\n    lng: 108.21430777213503\n  }]), {\n    path: [{\n      lat: 16.081238661120885,\n      lng: 108.16631503668216\n    }, {\n      lat: 16.073486130125332,\n      lng: 108.18519778814701\n    }],\n    lat: \"16.077707\",\n    lng: \"108.223231\",\n    image: \"\",\n    vehicle: \"43A-11493\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    typeVehicle: \"Ô tô\"\n  }, {\n    path: [{\n      lat: 16.06573329687323,\n      lng: 108.20253558721927\n    }, {\n      lat: 16.054845829552328,\n      lng: 108.20845790472416\n    }],\n    lat: \"16.081844\",\n    lng: \"108.222743\",\n    image: \"\",\n    vehicle: \"43A-11494\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    typeVehicle: \"Ô tô\"\n  }, {\n    path: [{\n      lat: 16.066145689229703,\n      lng: 108.18494029608158\n    }, {\n      lat: 16.0621866873228,\n      lng: 108.17953296270755\n    }],\n    lat: \"16.074250\",\n    lng: \"108.223653\",\n    image: \"\",\n    vehicle: \"43A-11495\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    typeVehicle: \"Ô tô\"\n  }];\n\n  var _useState = useState(null),\n      map = _useState[0],\n      setMap = _useState[1];\n\n  useEffect(function () {\n    var value = vehicle.filter(function (data) {\n      return data.lat === props.Infowindow.lat;\n    });\n\n    if (value.length) {\n      var e = _objectSpread({}, value[0]);\n\n      if (e.path.length % 2 !== 0) {\n        var index = Math.ceil(e.path.length / 2);\n        e.latLng = e.path[index];\n      } else {\n        var pointFirst;\n        var pointLast;\n\n        if (e.path.length < 3) {\n          pointFirst = e.path[0];\n          pointLast = e.path[1];\n        } else {\n          var i = e.path.length / 2;\n          pointFirst = e.path[i];\n          pointLast = e.path[i + 1];\n        }\n      }\n\n      showInfoWindowShape(e, e);\n    }\n  }, []);\n\n  var showInfoWindowShape = function showInfoWindowShape(e, value) {\n    var Popup = /*#__PURE__*/_jsxDEV(InfowindowComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }, _this);\n\n    var infoWindow = new window.google.maps.InfoWindow({\n      content: \"\"\n    });\n\n    if (map) {\n      var content = ReactDOMServer.renderToString(Popup);\n      infoWindow.setPosition(e.latLng);\n      infoWindow.setContent(content);\n      infoWindow.open(map);\n      window.google.maps.event.addListener(infoWindow, 'domready', function () {\n        ReactDOM.render(React.Children.only(button), document.getElementById('buttonAction'));\n      });\n      setInfoWindowShape(infoWindow);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(MapOptions, {\n    children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n      zoom: 13,\n      defaultCenter: {\n        lat: 16.04319399907483,\n        lng: 108.21515312158203\n      } // onClick={(e) => handleMap(e)}\n      ,\n      children: vehicle.length ? vehicle.map(function (marker, index) {\n        return /*#__PURE__*/_jsxDEV(ShapeNoparking, {\n          marker: marker,\n          id: marker.id // ref={ref}\n\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }, _this) // <MarkerComponent\n        //   marker={marker}\n        //   key={index}\n        //   // id={marker.id}\n        //   lat={marker.lat}\n        //   lng={marker.lng}\n        // />\n        ;\n      }) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MapViolation, \"4bJBv0PO2rrDzFRchWWuXyIru0A=\");\n\n_c = MapViolation;\nexport default MapViolation;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapViolation\");","map":{"version":3,"sources":["/home/quy/Videos/parking_webapp/pages/violation/googlemap_violation/googlemap_violation.jsx"],"names":["React","useRef","useEffect","useState","MapOptions","GoogleMap","InfoWindow","ShapeNoparking","InfowindowComponent","MapViolation","props","vehicle","path","lat","lng","image","type","date","stress","Processingunit","typeVehicle","map","setMap","value","filter","data","Infowindow","length","e","index","Math","ceil","latLng","pointFirst","pointLast","i","showInfoWindowShape","Popup","infoWindow","window","google","maps","content","ReactDOMServer","renderToString","setPosition","setContent","open","event","addListener","ReactDOM","render","Children","only","button","document","getElementById","setInfoWindowShape","marker","id"],"mappings":"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","sourcesContent":["import React, { useRef,useEffect,useState } from \"react\";\nimport MapOptions from \"../../../components/google_map_controlled\";\n// import MarkerComponent from \"./marker\";\nimport { GoogleMap,InfoWindow } from \"react-google-maps\";\nimport ShapeNoparking from \"../googlemap_violation/marker\";\nimport InfowindowComponent from '../googlemap_violation/custominfowindow'\nfunction MapViolation(props) {\n  // console.log(ref);\n\n  const vehicle = [\n    {\n      path: [\n        { lat: 16.081238661120641, lng: 108.16631503668134 },\n        { lat: 16.073486130125332, lng: 108.18519778814701 },\n      ],\n      lat: \"16.04319399907483\",\n      lng: \"108.21515312158203\",\n      image: \"\",\n      vehicle: \"43A-11491\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      typeVehicle: \"Ô tô\",\n      path: [\n        { lat: 16.076374774161085, lng: 108.2139774107824 },\n        { lat: 16.076052733066728, lng: 108.21375550832771 },\n        { lat: 16.076374774161085, lng: 108.2139774107824 },\n        { lat: 16.076052733066728, lng: 108.21375550832771 },\n        { lat: 16.075806437660088, lng: 108.21356892716311 },\n        { lat: 16.075754569000555, lng: 108.21352835875176 },\n        { lat: 16.07553581841805, lng: 108.21334563326262 },\n        { lat: 16.07551101163577, lng: 108.21332585197113 },\n        { lat: 16.075346062563177, lng: 108.21320012342356 },\n      ],\n    },\n    {\n      path: [\n        { lat: 16.081238661120793, lng: 108.16631503668244 },\n        { lat: 16.073486130125332, lng: 108.18519778814701 },\n      ],\n      lat: \"16.075300\",\n      lng: \"108.223558\",\n      image: \"\",\n      vehicle: \"43A-11492\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      path: [\n        { lat: 16.07274532559629, lng: 108.20999447459961 },\n\n        { lat: 16.072785919075752, lng: 108.21019195223833 },\n        { lat: 16.072844398302305, lng: 108.21046420748551 },\n\n        { lat: 16.072906577169032, lng: 108.2107622679623 },\n        { lat: 16.072962956953667, lng: 108.21102914775928 },\n\n        { lat: 16.0730054834092, lng: 108.2112279665025 },\n\n        { lat: 16.07305090938575, lng: 108.21144723708947 },\n\n        { lat: 16.07311212167817, lng: 108.21175133253654 },\n\n        { lat: 16.073168179234703, lng: 108.21201653595288 },\n\n        { lat: 16.07322359243598, lng: 108.2122901212724 },\n        { lat: 16.073295436272762, lng: 108.21267099495252 },\n        { lat: 16.07333345228353, lng: 108.2128667962106 },\n        { lat: 16.073420438043527, lng: 108.21321146006902 },\n        { lat: 16.07345072196587, lng: 108.21333249475082 },\n        { lat: 16.07347101863463, lng: 108.21348806287368 },\n        { lat: 16.073486804931125, lng: 108.21359602178653 },\n        { lat: 16.073515477997063, lng: 108.21377237702926 },\n        { lat: 16.07353931852066, lng: 108.21391319300254 },\n        { lat: 16.073554138304157, lng: 108.21399600620587 },\n        { lat: 16.073617527083105, lng: 108.21430777213503 },\n      ],\n    },\n    {\n      path: [\n        { lat: 16.081238661120885, lng: 108.16631503668216 },\n        { lat: 16.073486130125332, lng: 108.18519778814701 },\n      ],\n      lat: \"16.077707\",\n      lng: \"108.223231\",\n      image: \"\",\n      vehicle: \"43A-11493\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      typeVehicle: \"Ô tô\",\n    },\n    {\n      path: [\n        { lat: 16.06573329687323, lng: 108.20253558721927 },\n        { lat: 16.054845829552328, lng: 108.20845790472416 },\n      ],\n      lat: \"16.081844\",\n      lng: \"108.222743\",\n      image: \"\",\n      vehicle: \"43A-11494\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      typeVehicle: \"Ô tô\",\n    },\n    {\n      path: [\n        { lat: 16.066145689229703, lng: 108.18494029608158 },\n        { lat: 16.0621866873228, lng: 108.17953296270755 },\n      ],\n      lat: \"16.074250\",\n      lng: \"108.223653\",\n      image: \"\",\n      vehicle: \"43A-11495\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      typeVehicle: \"Ô tô\",\n    },\n  ];\n  const [map, setMap] = useState(null)\n  useEffect(() => {\n    let value =vehicle.filter((data)=>data.lat===props.Infowindow.lat)\n    if(value.length){\n      let e = {...value[0]}\n      if (e.path.length % 2 !== 0) {\n        let index = Math.ceil(e.path.length / 2)\n        e.latLng = e.path[index]\n      }else{\n        let pointFirst\n        let pointLast\n        if (e.path.length < 3) {\n            pointFirst = e.path[0]\n            pointLast = e.path[1]\n        } else {\n            let i = e.path.length / 2\n            pointFirst = e.path[i]\n            pointLast = e.path[i + 1]\n        }\n    \n      }\n      showInfoWindowShape(e,e)\n    }\n}, [])\nconst showInfoWindowShape = (e, value) => {\n\n  const Popup = <InfowindowComponent/>\n  let infoWindow = new window.google.maps.InfoWindow({\n      content: ``,\n  })\n\n  if (map) {\n      let content = ReactDOMServer.renderToString(Popup)\n\n      infoWindow.setPosition(e.latLng)\n      infoWindow.setContent(content)\n      infoWindow.open(map)\n\n      window.google.maps.event.addListener(infoWindow, 'domready', function () {\n          ReactDOM.render(React.Children.only(button), document.getElementById('buttonAction'))\n      })\n\n      setInfoWindowShape(infoWindow)\n  }\n}\n\n  return (\n    <MapOptions>\n      <GoogleMap\n        zoom={13}\n        defaultCenter={{ lat: 16.04319399907483, lng: 108.21515312158203 }}\n        // onClick={(e) => handleMap(e)}\n      >\n        {vehicle.length\n          ? vehicle.map((marker, index) => {\n              return (\n                <ShapeNoparking\n                  marker={marker}\n                  key={index}\n                  id={marker.id}\n                  // ref={ref}\n                />\n                // <MarkerComponent\n                //   marker={marker}\n                //   key={index}\n                //   // id={marker.id}\n                //   lat={marker.lat}\n                //   lng={marker.lng}\n                // />\n              );\n            })\n          : null}\n  \n      </GoogleMap>\n    </MapOptions>\n  );\n}\nexport default MapViolation;\n"]},"metadata":{},"sourceType":"module"}