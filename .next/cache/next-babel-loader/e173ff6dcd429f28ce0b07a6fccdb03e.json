{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/quy/Videos/parking_webapp/pages/violation/googlemap_violation/googlemap_violation.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport MapOptions from \"../../../components/google_map_controlled\"; // import MarkerComponent from \"./marker\";\n\nimport ReactDOM from 'react-dom';\nimport { GoogleMap, InfoWindow } from \"react-google-maps\";\nimport ShapeNoparking from \"../googlemap_violation/marker\";\nimport InfowindowComponent from '../googlemap_violation/custominfowindow';\nimport ReactDOMServer from 'react-dom/server';\n\nfunction MapViolation(props) {\n  // console.log(ref);\n  const vehicle = [{\n    id: '1',\n    path: [{\n      lat: 16.081238661120641,\n      lng: 108.16631503668134\n    }, {\n      lat: 16.073486130125332,\n      lng: 108.18519778814701\n    }],\n    lat: \"16.04319399907483\",\n    lng: \"108.21515312158203\",\n    image: \"\",\n    vehicle: \"43A-11491\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    typeVehicle: \"Ô tô\",\n    path: [{\n      lat: 16.076374774161085,\n      lng: 108.2139774107824\n    }, {\n      lat: 16.076052733066728,\n      lng: 108.21375550832771\n    }, {\n      lat: 16.076374774161085,\n      lng: 108.2139774107824\n    }, {\n      lat: 16.076052733066728,\n      lng: 108.21375550832771\n    }, {\n      lat: 16.075806437660088,\n      lng: 108.21356892716311\n    }, {\n      lat: 16.075754569000555,\n      lng: 108.21352835875176\n    }, {\n      lat: 16.07553581841805,\n      lng: 108.21334563326262\n    }, {\n      lat: 16.07551101163577,\n      lng: 108.21332585197113\n    }, {\n      lat: 16.075346062563177,\n      lng: 108.21320012342356\n    }]\n  }, {\n    id: '2',\n    lat: \"16.075300\",\n    lng: \"108.223558\",\n    image: \"\",\n    vehicle: \"43A-11492\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    path: [{\n      lat: 16.066145689229703,\n      lng: 108.18494029608158\n    }, {\n      lat: 16.0621866873228,\n      lng: 108.17953296270755\n    }],\n    path: [{\n      lat: 16.081238661120793,\n      lng: 108.16631503668244\n    }, {\n      lat: 16.073486130125332,\n      lng: 108.18519778814701\n    }]\n  } // {\n  //   path: [\n  //     { lat: 16.081238661120885, lng: 108.16631503668216 },\n  //     { lat: 16.073486130125332, lng: 108.18519778814701 },\n  //   ],\n  //   lat: \"16.077707\",\n  //   lng: \"108.223231\",\n  //   image: \"\",\n  //   vehicle: \"43A-11493\",\n  //   type: \"Dừng xe nơi cấm dừng cấm đỗ\",      path: [\n  //   { lat: 16.081238661120793, lng: 108.16631503668244 },\n  //   { lat: 16.073486130125332, lng: 108.18519778814701 },\n  // ],\n  //   date: \"31/10/2020\",\n  //   stress: \"Đường Trần phú,Quận hải châu\",\n  //   Processingunit: \"Sở giao thông vận tải đà nẵng\",\n  //   typeVehicle: \"Ô tô\",\n  // },\n  // {\n  //   path: [\n  //     { lat: 16.06573329687323, lng: 108.20253558721927 },\n  //     { lat: 16.054845829552328, lng: 108.20845790472416 },\n  //   ],\n  //   lat: \"16.081844\",\n  //   lng: \"108.222743\",\n  //   image: \"\",\n  //   vehicle: \"43A-11494\",\n  //   type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n  //   date: \"31/10/2020\",\n  //   stress: \"Đường Trần phú,Quận hải châu\",\n  //   Processingunit: \"Sở giao thông vận tải đà nẵng\",\n  //   typeVehicle: \"Ô tô\",\n  // },\n  // {\n  //   path: [\n  //     { lat: 16.066145689229703, lng: 108.18494029608158 },\n  //     { lat: 16.0621866873228, lng: 108.17953296270755 },\n  //   ],\n  //   lat: \"16.074250\",\n  //   lng: \"108.223653\",\n  //   image: \"\",\n  //   vehicle: \"43A-11495\",\n  //   type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n  //   date: \"31/10/2020\",\n  //   stress: \"Đường Trần phú,Quận hải châu\",\n  //   Processingunit: \"Sở giao thông vận tải đà nẵng\",\n  //   typeVehicle: \"Ô tô\",\n  // },\n  ];\n  const {\n    0: map,\n    1: setMap\n  } = useState(null);\n  const shapeRef = useRef(null);\n  const {\n    0: infoWindowShape,\n    1: setInfoWindowShape\n  } = useState(null);\n  console.log(props.Infowindow);\n  useEffect(() => {\n    let value = vehicle.filter(data => data.id === props.Infowindow.id);\n    console.log(\"value\", value);\n\n    if (value.length) {\n      let e = _objectSpread({}, value[0]);\n\n      if (e.path.length % 2 !== 0) {\n        let index = Math.ceil(e.path.length / 2);\n        e.latLng = e.path[index];\n      } else {\n        let pointFirst;\n        let pointLast;\n\n        if (e.path.length < 3) {\n          pointFirst = e.path[0];\n          pointLast = e.path[1];\n        } else {\n          let i = e.path.length / 2;\n          pointFirst = e.path[i];\n          pointLast = e.path[i + 1];\n        }\n\n        let lat = (pointFirst.lat + pointLast.lat) / 2;\n        let lng = (pointFirst.lng + pointLast.lng) / 2;\n        e.latLng = {\n          lat,\n          lng\n        };\n      }\n\n      showInfoWindowShape(e, e);\n    }\n  }, [props.Infowindow]);\n\n  const clearInfoWindow = () => {\n    if (infoWindowShape) {\n      infoWindowShape.open(null);\n    }\n  };\n\n  const showInfoWindowShape = (e, value) => {\n    clearInfoWindow();\n\n    const Popup = /*#__PURE__*/_jsxDEV(InfowindowComponent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }, this);\n\n    let infoWindow = new window.google.maps.InfoWindow({\n      content: ``\n    });\n\n    if (map) {\n      let content = ReactDOMServer.renderToString(Popup);\n      infoWindow.setPosition(e.latLng);\n      infoWindow.setContent(content);\n      infoWindow.open(map);\n      window.google.maps.event.addListener(infoWindow, 'domready', function () {// ReactDOM.render(React.Children.only(button), document.getElementById('buttonAction'))\n      });\n      setInfoWindowShape(infoWindow);\n    }\n  };\n\n  const mapEvent = ref => {\n    if (ref) {\n      setMap(ref.context.__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(MapOptions, {\n    children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n      zoom: 13,\n      defaultCenter: {\n        lat: 16.04319399907483,\n        lng: 108.21515312158203\n      },\n      ref: mapEvent // onClick={(e) => handleMap(e)}\n      ,\n      children: vehicle.length ? vehicle.map((marker, index) => {\n        return /*#__PURE__*/_jsxDEV(ShapeNoparking, {\n          marker: marker,\n          id: marker.id // ref={ref}\n          ,\n          shapeRef: shapeRef\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }, this) // <MarkerComponent\n        //   marker={marker}\n        //   key={index}\n        //   // id={marker.id}\n        //   lat={marker.lat}\n        //   lng={marker.lng}\n        // />\n        ;\n      }) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n\nexport default MapViolation;","map":{"version":3,"sources":["/home/quy/Videos/parking_webapp/pages/violation/googlemap_violation/googlemap_violation.jsx"],"names":["React","useRef","useEffect","useState","MapOptions","ReactDOM","GoogleMap","InfoWindow","ShapeNoparking","InfowindowComponent","ReactDOMServer","MapViolation","props","vehicle","id","path","lat","lng","image","type","date","stress","Processingunit","typeVehicle","map","setMap","shapeRef","infoWindowShape","setInfoWindowShape","console","log","Infowindow","value","filter","data","length","e","index","Math","ceil","latLng","pointFirst","pointLast","i","showInfoWindowShape","clearInfoWindow","open","Popup","infoWindow","window","google","maps","content","renderToString","setPosition","setContent","event","addListener","mapEvent","ref","context","__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","marker"],"mappings":"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","sourcesContent":["import React, { useRef,useEffect,useState } from \"react\";\nimport MapOptions from \"../../../components/google_map_controlled\";\n// import MarkerComponent from \"./marker\";\nimport ReactDOM from 'react-dom';\nimport { GoogleMap,InfoWindow } from \"react-google-maps\";\nimport ShapeNoparking from \"../googlemap_violation/marker\";\nimport InfowindowComponent from '../googlemap_violation/custominfowindow'\nimport ReactDOMServer from 'react-dom/server';\nfunction MapViolation(props) {\n  // console.log(ref);\n\n  const vehicle = [\n    {\n      id:'1',\n      path: [\n        { lat: 16.081238661120641, lng: 108.16631503668134 },\n        { lat: 16.073486130125332, lng: 108.18519778814701 },\n      ],\n      lat: \"16.04319399907483\",\n      lng: \"108.21515312158203\",\n      image: \"\",\n      vehicle: \"43A-11491\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      typeVehicle: \"Ô tô\",\n      path: [\n        { lat: 16.076374774161085, lng: 108.2139774107824 },\n        { lat: 16.076052733066728, lng: 108.21375550832771 },\n        { lat: 16.076374774161085, lng: 108.2139774107824 },\n        { lat: 16.076052733066728, lng: 108.21375550832771 },\n        { lat: 16.075806437660088, lng: 108.21356892716311 },\n        { lat: 16.075754569000555, lng: 108.21352835875176 },\n        { lat: 16.07553581841805, lng: 108.21334563326262 },\n        { lat: 16.07551101163577, lng: 108.21332585197113 },\n        { lat: 16.075346062563177, lng: 108.21320012342356 },\n      ],\n    },\n    {\n      id:'2',\n      lat: \"16.075300\",\n      lng: \"108.223558\",\n      image: \"\",\n      vehicle: \"43A-11492\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      path: [\n            { lat: 16.066145689229703, lng: 108.18494029608158 },\n            { lat: 16.0621866873228, lng: 108.17953296270755 },\n          ],\n      path: [\n        { lat: 16.081238661120793, lng: 108.16631503668244 },\n        { lat: 16.073486130125332, lng: 108.18519778814701 },\n      ],\n    },\n    // {\n    //   path: [\n    //     { lat: 16.081238661120885, lng: 108.16631503668216 },\n    //     { lat: 16.073486130125332, lng: 108.18519778814701 },\n    //   ],\n    //   lat: \"16.077707\",\n    //   lng: \"108.223231\",\n    //   image: \"\",\n    //   vehicle: \"43A-11493\",\n    //   type: \"Dừng xe nơi cấm dừng cấm đỗ\",      path: [\n      //   { lat: 16.081238661120793, lng: 108.16631503668244 },\n      //   { lat: 16.073486130125332, lng: 108.18519778814701 },\n      // ],\n    //   date: \"31/10/2020\",\n    //   stress: \"Đường Trần phú,Quận hải châu\",\n    //   Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    //   typeVehicle: \"Ô tô\",\n    // },\n    // {\n    //   path: [\n    //     { lat: 16.06573329687323, lng: 108.20253558721927 },\n    //     { lat: 16.054845829552328, lng: 108.20845790472416 },\n    //   ],\n    //   lat: \"16.081844\",\n    //   lng: \"108.222743\",\n    //   image: \"\",\n    //   vehicle: \"43A-11494\",\n    //   type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    //   date: \"31/10/2020\",\n    //   stress: \"Đường Trần phú,Quận hải châu\",\n    //   Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    //   typeVehicle: \"Ô tô\",\n    // },\n    // {\n    //   path: [\n    //     { lat: 16.066145689229703, lng: 108.18494029608158 },\n    //     { lat: 16.0621866873228, lng: 108.17953296270755 },\n    //   ],\n    //   lat: \"16.074250\",\n    //   lng: \"108.223653\",\n    //   image: \"\",\n    //   vehicle: \"43A-11495\",\n    //   type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    //   date: \"31/10/2020\",\n    //   stress: \"Đường Trần phú,Quận hải châu\",\n    //   Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    //   typeVehicle: \"Ô tô\",\n    // },\n  ];\n  const [map, setMap] = useState(null)\n  const shapeRef = useRef(null)\n  const [infoWindowShape, setInfoWindowShape] = useState(null)\n  console.log(props.Infowindow);\n  \n  useEffect(() => {\n    let value =vehicle.filter((data)=>data.id===props.Infowindow.id)\n    console.log(\"value\",value);\n    \n    if(value.length){\n      let e = {...value[0]}\n      if (e.path.length % 2 !== 0) {\n        let index = Math.ceil(e.path.length / 2)\n        e.latLng = e.path[index]\n      }else{\n        let pointFirst\n        let pointLast\n        if (e.path.length < 3) {\n            pointFirst = e.path[0]\n            pointLast = e.path[1]\n        } else {\n            let i = e.path.length / 2\n            pointFirst = e.path[i]\n            pointLast = e.path[i + 1]\n        }\n        let lat = (pointFirst.lat + pointLast.lat) / 2\n        let lng = (pointFirst.lng + pointLast.lng) / 2\n\n        e.latLng = { lat, lng }\n    \n      }\n      showInfoWindowShape(e, e)\n    }\n}, [props.Infowindow])\n\nconst clearInfoWindow = () => {\n  if (infoWindowShape) {\n      infoWindowShape.open(null)\n  }\n}\nconst showInfoWindowShape = (e, value) => {\n  clearInfoWindow()\n\n  const Popup = <InfowindowComponent/>\n  let infoWindow = new window.google.maps.InfoWindow({\n      content: ``,\n  })\n\n  if (map) {\n      let content = ReactDOMServer.renderToString(Popup)\n\n      infoWindow.setPosition(e.latLng)\n      infoWindow.setContent(content)\n      infoWindow.open(map)\n\n      window.google.maps.event.addListener(infoWindow, 'domready', function () {\n          // ReactDOM.render(React.Children.only(button), document.getElementById('buttonAction'))\n      })\n\n      setInfoWindowShape(infoWindow)\n  }\n}\nconst mapEvent = (ref) => {\n\n  if (ref) {\n      setMap(ref.context.__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)\n  }\n}\n\n\n  return (\n    <MapOptions>\n      <GoogleMap\n        zoom={13}\n        defaultCenter={{ lat: 16.04319399907483, lng: 108.21515312158203 }}\n        ref={mapEvent}\n        // onClick={(e) => handleMap(e)}\n      >\n        {vehicle.length\n          ? vehicle.map((marker, index) => {\n              return (\n                <ShapeNoparking\n                  marker={marker}\n                  key={index}\n                  id={marker.id}\n                  // ref={ref}\n                  shapeRef={shapeRef}\n                />\n                // <MarkerComponent\n                //   marker={marker}\n                //   key={index}\n                //   // id={marker.id}\n                //   lat={marker.lat}\n                //   lng={marker.lng}\n                // />\n              );\n            })\n          : null}\n  \n      </GoogleMap>\n    </MapOptions>\n  );\n}\nexport default MapViolation;\n"]},"metadata":{},"sourceType":"module"}