{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/quy/Videos/parking_webapp/pages/violation/googlemap_violation/googlemap_violation.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport MapOptions from \"../../../components/google_map_controlled\";\nimport { makeStyles } from \"@material-ui/core/styles\"; // import MarkerComponent from \"./marker\";\n\nimport ReactDOM from \"react-dom\";\nimport { GoogleMap, InfoWindow } from \"react-google-maps\";\nimport ShapeNoparking from \"../googlemap_violation/marker\";\nimport CustomInfoWindow from \"../googlemap_violation/custominfowindow\";\nimport ReactDOMServer from \"react-dom/server\";\nimport Slider from \"react-slick\";\nimport Button from \"@material-ui/core/Button\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\nimport image from \"../../../public/assets/violation.jpg\";\nimport img from \"../../../public/assets/img.jpg\";\nimport img2 from \"../../../public/assets/doxechanle.jpg\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport { TableHead, TableRow, TableCell, Checkbox } from \"@material-ui/core\"; // import Lightbox from \"react-image-lightbox\";\n\nimport { LightgalleryProvider, LightgalleryItem, withLightgallery, useLightgallery } from \"react-lightgallery\"; //   const OpenGallery222 = ({className, image}) => {\n//     const { openGallery } = useLightgallery();\n//     setOpenImage(true);\n// return (    <div onClick={() => openGallery(\"item1\")}>\n// <img className={imgpopup} src={image}></img>\n// </div>)\n//   };\n// const OpenGallery222 = withLightgallery(({ openGallery, ...props }) => {\n//   return (\n//     <button\n//       {...props}\n//       onClick={() => {\n//         openGallery(\"group1\");\n//       }}\n//     >\n//       Open first photos group (using hoc)\n//     </button>\n//   );\n// });\n\nconst OpenButtonWithHook = props => {\n  const {\n    openGallery\n  } = useLightgallery();\n  const settings = {\n    dots: true,\n    speed: 500,\n    slidesToShow: 1\n  }; // const { openGallery } = useLightgallery();\n  // const { openGallery } = useLightgallery();\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(LightgalleryProvider, {\n      ref: lightbox,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        onMouseOver: () => {\n          setOpacity(1);\n        },\n        onMouseOut: () => {\n          setOpacity(0);\n        },\n        className: classes.slidercontent,\n        id: \"slider\",\n        children: [/*#__PURE__*/_jsxDEV(Slider, _objectSpread(_objectSpread({}, settings), {}, {\n          className: classes.slider,\n          ref: ref,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: classes.imgpopup,\n              src: image,\n              onClick: () => OpenButtonWithHook()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: classes.imgpopup,\n              src: img,\n              onClick: () => OpenButtonWithHook()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: classes.imgpopup,\n              src: img2,\n              onClick: () => OpenButtonWithHook()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }), void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.slidebutton,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.next,\n            onClick: () => next(),\n            children: /*#__PURE__*/_jsxDEV(NavigateBeforeIcon, {\n              className: classes.iconbutton\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.prev,\n            onClick: () => prev(),\n            children: /*#__PURE__*/_jsxDEV(NavigateNextIcon, {\n              className: classes.iconbutton\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n\nfunction MapViolation(props) {\n  // console.log(ref);\n  // const { openGallery } = useLightgallery();\n  const ref = useRef({});\n  const lightbox = useRef();\n  console.log(lightbox, \"lightboxlightbox\");\n  const classes = useStyles();\n  const vehicle = [{\n    id: \"1\",\n    path: [{\n      lat: 16.081238661120641,\n      lng: 108.16631503668134\n    }, {\n      lat: 16.073486130125332,\n      lng: 108.18519778814701\n    }],\n    lat: \"16.04319399907483\",\n    lng: \"108.21515312158203\",\n    image: \"\",\n    vehicle: \"43A-11491\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    typeVehicle: \"Ô tô\",\n    path: [{\n      lat: 16.076374774161085,\n      lng: 108.2139774107824\n    }, {\n      lat: 16.076052733066728,\n      lng: 108.21375550832771\n    }, {\n      lat: 16.076374774161085,\n      lng: 108.2139774107824\n    }, {\n      lat: 16.076052733066728,\n      lng: 108.21375550832771\n    }, {\n      lat: 16.075806437660088,\n      lng: 108.21356892716311\n    }, {\n      lat: 16.075754569000555,\n      lng: 108.21352835875176\n    }, {\n      lat: 16.07553581841805,\n      lng: 108.21334563326262\n    }, {\n      lat: 16.07551101163577,\n      lng: 108.21332585197113\n    }, {\n      lat: 16.075346062563177,\n      lng: 108.21320012342356\n    }]\n  }, {\n    id: \"2\",\n    lat: \"16.075300\",\n    lng: \"108.223558\",\n    image: \"\",\n    vehicle: \"43A-11492\",\n    typeVehicle: \"Ô tô\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    path: [{\n      lat: 16.066145689229703,\n      lng: 108.18494029608158\n    }, {\n      lat: 16.0621866873228,\n      lng: 108.17953296270755\n    }]\n  }, {\n    id: \"3\",\n    path: [{\n      lat: 16.081238661120885,\n      lng: 108.16631503668216\n    }, {\n      lat: 16.073486130125332,\n      lng: 108.18519778814701\n    }],\n    lat: \"16.077707\",\n    lng: \"108.223231\",\n    image: \"\",\n    vehicle: \"43A-11493\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    typeVehicle: \"Ô tô\"\n  }, {\n    id: \"4\",\n    path: [{\n      lat: 16.06573329687323,\n      lng: 108.20253558721927\n    }, {\n      lat: 16.054845829552328,\n      lng: 108.20845790472416\n    }],\n    lat: \"16.081844\",\n    lng: \"108.222743\",\n    image: \"\",\n    vehicle: \"43A-11494\",\n    type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    date: \"31/10/2020\",\n    stress: \"Đường Trần phú,Quận hải châu\",\n    Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    typeVehicle: \"Ô tô\"\n  } // {\n  //   path: [\n  //     { lat: 16.066145689229703, lng: 108.18494029608158 },\n  //     { lat: 16.0621866873228, lng: 108.17953296270755 },\n  //   ],\n  //   lat: \"16.074250\",\n  //   lng: \"108.223653\",\n  //   image: \"\",\n  //   vehicle: \"43A-11495\",\n  //   type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n  //   date: \"31/10/2020\",\n  //   stress: \"Đường Trần phú,Quận hải châu\",\n  //   Processingunit: \"Sở giao thông vận tải đà nẵng\",\n  //   typeVehicle: \"Ô tô\",\n  // },\n  ];\n  const {\n    0: map,\n    1: setMap\n  } = useState(null);\n  const shapeRef = useRef(null);\n  const {\n    0: infoWindowShape,\n    1: setInfoWindowShape\n  } = useState(null);\n  const {\n    0: opacity,\n    1: setOpacity\n  } = useState(0);\n  const {\n    0: openImage,\n    1: setOpenImage\n  } = useState(true);\n  const {\n    0: opendialog,\n    1: setOpendialog\n  } = useState(false);\n  const {\n    0: photoIndex,\n    1: setPhotoIndex\n  } = useState(0); // const { openGallery } = useLightgallery()\n\n  const images = [\"https://images.unsplash.com/photo-1594818898109-44704fb548f6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\", \"https://images.unsplash.com/photo-1594818896795-35ad7bcf3c6a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\", \"https://images.unsplash.com/photo-1594818896744-57eca4d47b07?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\", \"https://images.unsplash.com/photo-1594818897077-aec41f55241f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1951&q=80\"];\n  useEffect(() => {\n    let value = vehicle.filter(data => data.id === props.Infowindow.id);\n\n    if (value.length) {\n      let e = _objectSpread({}, value[0]);\n\n      if (e.path.length % 2 !== 0) {\n        let index = Math.ceil(e.path.length / 2);\n        e.latLng = e.path[index];\n      } else {\n        let pointFirst;\n        let pointLast;\n\n        if (e.path.length < 3) {\n          pointFirst = e.path[0];\n          pointLast = e.path[1];\n        } else {\n          let i = e.path.length / 2;\n          pointFirst = e.path[i];\n          pointLast = e.path[i + 1];\n        }\n\n        let lat = (pointFirst.lat + pointLast.lat) / 2;\n        let lng = (pointFirst.lng + pointLast.lng) / 2;\n        e.latLng = {\n          lat,\n          lng\n        };\n      }\n\n      showInfoWindowShape(e);\n    }\n  }, [props.Infowindow]); // const { openGallery } = useLightgallery();\n\n  const clearInfoWindow = () => {\n    if (infoWindowShape) {\n      infoWindowShape.open(null);\n    }\n  };\n\n  const handleClose = () => {\n    setOpendialog(false);\n  };\n\n  const next = () => {\n    ref.current.slickPrev();\n  };\n\n  const prev = () => {\n    ref.current.slickNext();\n  };\n\n  const showInfoWindowShape = e => {\n    clearInfoWindow(); // const settings = {\n    //   dots: true,\n    //   speed: 500,\n    //   slidesToShow: 1,\n    // };\n    // // const { openGallery } = useLightgallery();\n    // // const { openGallery } = useLightgallery();\n    // const slide = (\n    //   <React.Fragment>\n    //     <LightgalleryProvider ref={lightbox}>\n    //       <div\n    //         onMouseOver={() => {\n    //           setOpacity(1);\n    //         }}\n    //         onMouseOut={() => {\n    //           setOpacity(0);\n    //         }}\n    //         className={classes.slidercontent}\n    //         id=\"slider\"\n    //       >\n    //         <Slider {...settings} className={classes.slider} ref={ref}>\n    //           {/* <OpenGallery222 classes={classes.imgpopup} image={image} /> */}\n    //           <div>\n    //             <img\n    //               className={classes.imgpopup}\n    //               src={image}\n    //               onClick={() => OpenButtonWithHook()}\n    //             ></img>\n    //           </div>\n    //           <div>\n    //             <img\n    //               className={classes.imgpopup}\n    //               src={img}\n    //               onClick={() => OpenButtonWithHook()}\n    //             ></img>\n    //           </div>\n    //           <div>\n    //             <img\n    //               className={classes.imgpopup}\n    //               src={img2}\n    //               onClick={() => OpenButtonWithHook()}\n    //             ></img>\n    //           </div>\n    //         </Slider>\n    //         <div className={classes.slidebutton}>\n    //           <div className={classes.next} onClick={() => next()}>\n    //             <NavigateBeforeIcon className={classes.iconbutton} />\n    //           </div>\n    //           <div className={classes.prev} onClick={() => prev()}>\n    //             <NavigateNextIcon className={classes.iconbutton} />\n    //           </div>\n    //         </div>\n    //       </div>\n    //     </LightgalleryProvider>\n    //   </React.Fragment>\n    // );\n    // const button = (\n    //   <React.Fragment>\n    //     <div onClick={() => dialogtable()} id=\"button\">\n    //       <Button\n    //         variant=\"outlined\"\n    //         color=\"primary\"\n    //         className={classes.infotitlepopup}\n    //       >\n    //         chi tiết <SendIcon className={classes.icon} />\n    //       </Button>\n    //     </div>\n    //   </React.Fragment>\n    // );\n\n    const Popup = /*#__PURE__*/_jsxDEV(CustomInfoWindow, {\n      info: e\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 19\n    }, this);\n\n    let infoWindow = new window.google.maps.InfoWindow({\n      content: ``\n    });\n\n    if (map) {\n      let content = ReactDOMServer.renderToString(Popup);\n      infoWindow.setPosition(e.latLng);\n      infoWindow.setContent(content);\n      infoWindow.open(map);\n      window.google.maps.event.addListener(infoWindow, \"domready\", function () {\n        ReactDOM.render(React.Children.only(OpenButtonWithHook()), document.getElementById(\"slide\") // document.getElementById(\"button\")\n        );\n      }); // window.google.maps.event.addListener(infoWindow, \"domready\", function () {\n      //   ReactDOM.render(\n      //     React.Children.only(button),\n      //     document.getElementById(\"button\")\n      //   );\n      // });\n\n      setInfoWindowShape(infoWindow);\n    }\n  };\n\n  const dialogtable = () => {\n    setOpendialog(true);\n  };\n\n  const mapEvent = ref => {\n    if (ref) {\n      setMap(ref.context.__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED);\n    }\n  };\n\n  const onChangeMapClick = () => {\n    clearInfoWindow();\n    props.clearInfowindow();\n  };\n\n  return /*#__PURE__*/_jsxDEV(MapOptions, {\n    children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n      onClick: onChangeMapClick,\n      zoom: 13,\n      defaultCenter: {\n        lat: 16.04319399907483,\n        lng: 108.21515312158203\n      },\n      ref: mapEvent // onClick={(e) => handleMap(e)}\n      ,\n      children: [vehicle.length ? vehicle.map((marker, index) => {\n        return /*#__PURE__*/_jsxDEV(ShapeNoparking, {\n          marker: marker,\n          id: marker.id // ref={ref}\n          ,\n          handleClose: () => handleClose(),\n          opendialog: opendialog,\n          shapeRef: shapeRef\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 17\n        }, this) // <MarkerComponent\n        //   marker={marker}\n        //   key={index}\n        //   // id={marker.id}\n        //   lat={marker.lat}\n        //   lng={marker.lng}\n        // />\n        ;\n      }) : null, openImage ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(LightgalleryProvider, {\n          children: /*#__PURE__*/_jsxDEV(OpenButtonWithHook, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 387,\n    columnNumber: 5\n  }, this);\n}\n\nexport default MapViolation;\nconst useStyles = makeStyles(() => ({\n  slider: {\n    width: 450\n  },\n  slidercontent: {\n    width: \"100%\",\n    position: \"relative\",\n    \"&:hover div:last-child\": {\n      opacity: 1\n    }\n  },\n  slidebutton: {\n    transition: \"0.2s\",\n    position: \"absolute\",\n    top: \"50%\",\n    width: \"100%\",\n    display: \"flex\",\n    // height: \"100%\",\n    justifyContent: \"space-between\",\n    opacity: 0 // \"&:hover\": {\n    //   opacity: 1,\n    // },\n\n  },\n  imgpopup: {\n    cursor: \"pointer\",\n    width: \"450px\",\n    height: 300\n  },\n  title: {\n    fontWeight: 500,\n    fontFamily: \"Nunito, sans-serif\"\n  },\n  dialog: {\n    height: \"100%\",\n    width: \"100%\"\n  },\n  imagepopup: {\n    width: 350\n  },\n  infotitlepopup: {\n    cursor: \"pointer\",\n    color: \"#3c16ce\",\n    float: \"right\",\n    marginTop: \"-40px\"\n  },\n  icon: {\n    fontSize: 14,\n    marginLeft: 5\n  },\n  titlepopup: {\n    padding: 20\n  },\n  next: {\n    width: 30,\n    height: 30,\n    borderRadius: \"50%\",\n    transition: \"0.5s\",\n    color: \"black\",\n    cursor: \"pointer\",\n    border: \"none\",\n    backgroundColor: \"white\"\n  },\n  prev: {\n    width: 30,\n    height: 30,\n    borderRadius: \"50%\",\n    transition: \"0.5s\",\n    color: \"black\",\n    border: \"none\",\n    cursor: \"pointer\",\n    backgroundColor: \"white\"\n  },\n  iconbutton: {\n    marginTop: 2,\n    marginLeft: 2\n  },\n  font: {\n    fontFamily: \"Nunito, sans-serif\"\n  },\n  table: {\n    height: \"80%\"\n  }\n}));","map":{"version":3,"sources":["/home/quy/Videos/parking_webapp/pages/violation/googlemap_violation/googlemap_violation.jsx"],"names":["React","useRef","useEffect","useState","MapOptions","makeStyles","ReactDOM","GoogleMap","InfoWindow","ShapeNoparking","CustomInfoWindow","ReactDOMServer","Slider","Button","SendIcon","NavigateNextIcon","NavigateBeforeIcon","image","img","img2","Dialog","DialogTitle","Table","TableHead","TableRow","TableCell","Checkbox","LightgalleryProvider","LightgalleryItem","withLightgallery","useLightgallery","OpenButtonWithHook","props","openGallery","settings","dots","speed","slidesToShow","lightbox","setOpacity","classes","slidercontent","slider","ref","imgpopup","slidebutton","next","iconbutton","prev","MapViolation","console","log","useStyles","vehicle","id","path","lat","lng","type","date","stress","Processingunit","typeVehicle","map","setMap","shapeRef","infoWindowShape","setInfoWindowShape","opacity","openImage","setOpenImage","opendialog","setOpendialog","photoIndex","setPhotoIndex","images","value","filter","data","Infowindow","length","e","index","Math","ceil","latLng","pointFirst","pointLast","i","showInfoWindowShape","clearInfoWindow","open","handleClose","current","slickPrev","slickNext","Popup","infoWindow","window","google","maps","content","renderToString","setPosition","setContent","event","addListener","render","Children","only","document","getElementById","dialogtable","mapEvent","context","__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","onChangeMapClick","clearInfowindow","marker","width","position","transition","top","display","justifyContent","cursor","height","title","fontWeight","fontFamily","dialog","imagepopup","infotitlepopup","color","float","marginTop","icon","fontSize","marginLeft","titlepopup","padding","borderRadius","border","backgroundColor","font","table"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport MapOptions from \"../../../components/google_map_controlled\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n// import MarkerComponent from \"./marker\";\nimport ReactDOM from \"react-dom\";\nimport { GoogleMap, InfoWindow } from \"react-google-maps\";\nimport ShapeNoparking from \"../googlemap_violation/marker\";\nimport CustomInfoWindow from \"../googlemap_violation/custominfowindow\";\nimport ReactDOMServer from \"react-dom/server\";\nimport Slider from \"react-slick\";\nimport Button from \"@material-ui/core/Button\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport NavigateNextIcon from \"@material-ui/icons/NavigateNext\";\nimport NavigateBeforeIcon from \"@material-ui/icons/NavigateBefore\";\nimport image from \"../../../public/assets/violation.jpg\";\nimport img from \"../../../public/assets/img.jpg\";\nimport img2 from \"../../../public/assets/doxechanle.jpg\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport { TableHead, TableRow, TableCell, Checkbox } from \"@material-ui/core\";\n// import Lightbox from \"react-image-lightbox\";\nimport {\n  LightgalleryProvider,\n  LightgalleryItem,\n  withLightgallery,\n  useLightgallery,\n} from \"react-lightgallery\";\n\n//   const OpenGallery222 = ({className, image}) => {\n//     const { openGallery } = useLightgallery();\n//     setOpenImage(true);\n// return (    <div onClick={() => openGallery(\"item1\")}>\n// <img className={imgpopup} src={image}></img>\n// </div>)\n//   };\n\n// const OpenGallery222 = withLightgallery(({ openGallery, ...props }) => {\n//   return (\n//     <button\n//       {...props}\n//       onClick={() => {\n//         openGallery(\"group1\");\n//       }}\n\n//     >\n//       Open first photos group (using hoc)\n//     </button>\n//   );\n// });\n\nconst OpenButtonWithHook = (props) => {\n  const { openGallery } = useLightgallery();\n  const settings = {\n    dots: true,\n    speed: 500,\n    slidesToShow: 1,\n  };\n  // const { openGallery } = useLightgallery();\n  // const { openGallery } = useLightgallery();\n  return(\n    <React.Fragment>\n      <LightgalleryProvider ref={lightbox}>\n        <div\n          onMouseOver={() => {\n            setOpacity(1);\n          }}\n          onMouseOut={() => {\n            setOpacity(0);\n          }}\n          className={classes.slidercontent}\n          id=\"slider\"\n        >\n          <Slider {...settings} className={classes.slider} ref={ref}>\n            {/* <OpenGallery222 classes={classes.imgpopup} image={image} /> */}\n\n            <div>\n              <img\n                className={classes.imgpopup}\n                src={image}\n                onClick={() => OpenButtonWithHook()}\n              ></img>\n            </div>\n            <div>\n              <img\n                className={classes.imgpopup}\n                src={img}\n                onClick={() => OpenButtonWithHook()}\n              ></img>\n            </div>\n            <div>\n              <img\n                className={classes.imgpopup}\n                src={img2}\n                onClick={() => OpenButtonWithHook()}\n              ></img>\n            </div>\n          </Slider>\n          <div className={classes.slidebutton}>\n            <div className={classes.next} onClick={() => next()}>\n              <NavigateBeforeIcon className={classes.iconbutton} />\n            </div>\n            <div className={classes.prev} onClick={() => prev()}>\n              <NavigateNextIcon className={classes.iconbutton} />\n            </div>\n          </div>\n        </div>\n      </LightgalleryProvider>\n    </React.Fragment>\n  );\n};\n\nfunction MapViolation(props) {\n  // console.log(ref);\n  // const { openGallery } = useLightgallery();\n  const ref = useRef({});\n  const lightbox = useRef();\n  console.log(lightbox, \"lightboxlightbox\");\n\n  const classes = useStyles();\n\n  const vehicle = [\n    {\n      id: \"1\",\n      path: [\n        { lat: 16.081238661120641, lng: 108.16631503668134 },\n        { lat: 16.073486130125332, lng: 108.18519778814701 },\n      ],\n      lat: \"16.04319399907483\",\n      lng: \"108.21515312158203\",\n      image: \"\",\n      vehicle: \"43A-11491\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      typeVehicle: \"Ô tô\",\n      path: [\n        { lat: 16.076374774161085, lng: 108.2139774107824 },\n        { lat: 16.076052733066728, lng: 108.21375550832771 },\n        { lat: 16.076374774161085, lng: 108.2139774107824 },\n        { lat: 16.076052733066728, lng: 108.21375550832771 },\n        { lat: 16.075806437660088, lng: 108.21356892716311 },\n        { lat: 16.075754569000555, lng: 108.21352835875176 },\n        { lat: 16.07553581841805, lng: 108.21334563326262 },\n        { lat: 16.07551101163577, lng: 108.21332585197113 },\n        { lat: 16.075346062563177, lng: 108.21320012342356 },\n      ],\n    },\n    {\n      id: \"2\",\n      lat: \"16.075300\",\n      lng: \"108.223558\",\n      image: \"\",\n      vehicle: \"43A-11492\",\n      typeVehicle: \"Ô tô\",\n\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      path: [\n        { lat: 16.066145689229703, lng: 108.18494029608158 },\n        { lat: 16.0621866873228, lng: 108.17953296270755 },\n      ],\n    },\n    {\n      id: \"3\",\n      path: [\n        { lat: 16.081238661120885, lng: 108.16631503668216 },\n        { lat: 16.073486130125332, lng: 108.18519778814701 },\n      ],\n      lat: \"16.077707\",\n      lng: \"108.223231\",\n      image: \"\",\n      vehicle: \"43A-11493\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      typeVehicle: \"Ô tô\",\n    },\n    {\n      id: \"4\",\n      path: [\n        { lat: 16.06573329687323, lng: 108.20253558721927 },\n        { lat: 16.054845829552328, lng: 108.20845790472416 },\n      ],\n      lat: \"16.081844\",\n      lng: \"108.222743\",\n      image: \"\",\n      vehicle: \"43A-11494\",\n      type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n      date: \"31/10/2020\",\n      stress: \"Đường Trần phú,Quận hải châu\",\n      Processingunit: \"Sở giao thông vận tải đà nẵng\",\n      typeVehicle: \"Ô tô\",\n    },\n    // {\n    //   path: [\n    //     { lat: 16.066145689229703, lng: 108.18494029608158 },\n    //     { lat: 16.0621866873228, lng: 108.17953296270755 },\n    //   ],\n    //   lat: \"16.074250\",\n    //   lng: \"108.223653\",\n    //   image: \"\",\n    //   vehicle: \"43A-11495\",\n    //   type: \"Dừng xe nơi cấm dừng cấm đỗ\",\n    //   date: \"31/10/2020\",\n    //   stress: \"Đường Trần phú,Quận hải châu\",\n    //   Processingunit: \"Sở giao thông vận tải đà nẵng\",\n    //   typeVehicle: \"Ô tô\",\n    // },\n  ];\n  const [map, setMap] = useState(null);\n  const shapeRef = useRef(null);\n  const [infoWindowShape, setInfoWindowShape] = useState(null);\n  const [opacity, setOpacity] = useState(0);\n  const [openImage, setOpenImage] = useState(true);\n  const [opendialog, setOpendialog] = useState(false);\n  const [photoIndex, setPhotoIndex] = useState(0);\n  // const { openGallery } = useLightgallery()\n\n  const images = [\n    \"https://images.unsplash.com/photo-1594818898109-44704fb548f6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\",\n    \"https://images.unsplash.com/photo-1594818896795-35ad7bcf3c6a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\",\n    \"https://images.unsplash.com/photo-1594818896744-57eca4d47b07?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80\",\n    \"https://images.unsplash.com/photo-1594818897077-aec41f55241f?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1951&q=80\",\n  ];\n\n  useEffect(() => {\n    let value = vehicle.filter((data) => data.id === props.Infowindow.id);\n    if (value.length) {\n      let e = { ...value[0] };\n      if (e.path.length % 2 !== 0) {\n        let index = Math.ceil(e.path.length / 2);\n        e.latLng = e.path[index];\n      } else {\n        let pointFirst;\n        let pointLast;\n        if (e.path.length < 3) {\n          pointFirst = e.path[0];\n          pointLast = e.path[1];\n        } else {\n          let i = e.path.length / 2;\n          pointFirst = e.path[i];\n          pointLast = e.path[i + 1];\n        }\n        let lat = (pointFirst.lat + pointLast.lat) / 2;\n        let lng = (pointFirst.lng + pointLast.lng) / 2;\n\n        e.latLng = { lat, lng };\n      }\n      showInfoWindowShape(e);\n    }\n  }, [props.Infowindow]);\n  // const { openGallery } = useLightgallery();\n  const clearInfoWindow = () => {\n    if (infoWindowShape) {\n      infoWindowShape.open(null);\n    }\n  };\n  const handleClose = () => {\n    setOpendialog(false);\n  };\n  const next = () => {\n    ref.current.slickPrev();\n  };\n  const prev = () => {\n    ref.current.slickNext();\n  };\n\n  const showInfoWindowShape = (e) => {\n    clearInfoWindow();\n    // const settings = {\n    //   dots: true,\n    //   speed: 500,\n    //   slidesToShow: 1,\n    // };\n    // // const { openGallery } = useLightgallery();\n    // // const { openGallery } = useLightgallery();\n    // const slide = (\n    //   <React.Fragment>\n    //     <LightgalleryProvider ref={lightbox}>\n    //       <div\n    //         onMouseOver={() => {\n    //           setOpacity(1);\n    //         }}\n    //         onMouseOut={() => {\n    //           setOpacity(0);\n    //         }}\n    //         className={classes.slidercontent}\n    //         id=\"slider\"\n    //       >\n    //         <Slider {...settings} className={classes.slider} ref={ref}>\n    //           {/* <OpenGallery222 classes={classes.imgpopup} image={image} /> */}\n\n    //           <div>\n    //             <img\n    //               className={classes.imgpopup}\n    //               src={image}\n    //               onClick={() => OpenButtonWithHook()}\n    //             ></img>\n    //           </div>\n    //           <div>\n    //             <img\n    //               className={classes.imgpopup}\n    //               src={img}\n    //               onClick={() => OpenButtonWithHook()}\n    //             ></img>\n    //           </div>\n    //           <div>\n    //             <img\n    //               className={classes.imgpopup}\n    //               src={img2}\n    //               onClick={() => OpenButtonWithHook()}\n    //             ></img>\n    //           </div>\n    //         </Slider>\n    //         <div className={classes.slidebutton}>\n    //           <div className={classes.next} onClick={() => next()}>\n    //             <NavigateBeforeIcon className={classes.iconbutton} />\n    //           </div>\n    //           <div className={classes.prev} onClick={() => prev()}>\n    //             <NavigateNextIcon className={classes.iconbutton} />\n    //           </div>\n    //         </div>\n    //       </div>\n    //     </LightgalleryProvider>\n    //   </React.Fragment>\n    // );\n    // const button = (\n    //   <React.Fragment>\n    //     <div onClick={() => dialogtable()} id=\"button\">\n    //       <Button\n    //         variant=\"outlined\"\n    //         color=\"primary\"\n    //         className={classes.infotitlepopup}\n    //       >\n    //         chi tiết <SendIcon className={classes.icon} />\n    //       </Button>\n    //     </div>\n    //   </React.Fragment>\n    // );\n    const Popup = <CustomInfoWindow info={e} />;\n    let infoWindow = new window.google.maps.InfoWindow({\n      content: ``,\n    });\n\n    if (map) {\n      let content = ReactDOMServer.renderToString(Popup);\n\n      infoWindow.setPosition(e.latLng);\n      infoWindow.setContent(content);\n      infoWindow.open(map);\n\n      window.google.maps.event.addListener(infoWindow, \"domready\", function () {\n        ReactDOM.render(\n          React.Children.only(OpenButtonWithHook()),\n          document.getElementById(\"slide\")\n          // document.getElementById(\"button\")\n        );\n      });\n      // window.google.maps.event.addListener(infoWindow, \"domready\", function () {\n      //   ReactDOM.render(\n      //     React.Children.only(button),\n      //     document.getElementById(\"button\")\n      //   );\n      // });\n      setInfoWindowShape(infoWindow);\n    }\n  };\n  const dialogtable = () => {\n    setOpendialog(true);\n  };\n  const mapEvent = (ref) => {\n    if (ref) {\n      setMap(ref.context.__SECRET_MAP_DO_NOT_USE_OR_YOU_WILL_BE_FIRED);\n    }\n  };\n  const onChangeMapClick = () => {\n    clearInfoWindow();\n    props.clearInfowindow();\n  };\n\n  return (\n    <MapOptions>\n      <GoogleMap\n        onClick={onChangeMapClick}\n        zoom={13}\n        defaultCenter={{ lat: 16.04319399907483, lng: 108.21515312158203 }}\n        ref={mapEvent}\n        // onClick={(e) => handleMap(e)}\n      >\n        {vehicle.length\n          ? vehicle.map((marker, index) => {\n              return (\n                <ShapeNoparking\n                  marker={marker}\n                  key={index}\n                  id={marker.id}\n                  // ref={ref}\n                  handleClose={() => handleClose()}\n                  opendialog={opendialog}\n                  shapeRef={shapeRef}\n                />\n                // <MarkerComponent\n                //   marker={marker}\n                //   key={index}\n                //   // id={marker.id}\n                //   lat={marker.lat}\n                //   lng={marker.lng}\n                // />\n              );\n            })\n          : null}\n        {openImage ? (\n          <div>\n            <LightgalleryProvider>\n              {/* {images.map(\n                (item) =>\n                  console.log(item) || (\n                    // <LightgalleryItem image={item}></LightgalleryItem>\n                    <div\n                      styles={{\n                        maxWidth: \"250px\",\n                        width: \"100px\",\n                        padding: \"5px\",\n                      }}\n                    >\n                      <LightgalleryItem group=\"item1\" src={item}>\n                        <img src={item} style={{ width: \"100%\" }} />\n                      </LightgalleryItem>\n                    </div>\n                  )\n              )} */}\n              <OpenButtonWithHook />\n            </LightgalleryProvider>\n\n            {/* <Lightbox\n              ref={lightbox}\n              // showThumbnails={true}\n              mainSrc={images[photoIndex]}\n              nextSrc={images[(photoIndex + 1) % images.length]}\n              prevSrc={images[(photoIndex + images.length - 1) % images.length]}\n              onCloseRequest={() => setOpenImage(false)}\n              onMovePrevRequest={() =>\n                setPhotoIndex((photoIndex + images.length - 1) % images.length)\n              }\n              onMoveNextRequest={() =>\n                setPhotoIndex((photoIndex + 1) % images.length)\n              }\n            >\n            </Lightbox> */}\n\n            {/* <img class=\"demo cursor\" src=\"img_nature_wide.jpg\" style=\"width:100%\" onclick=\"currentSlide(1)\" alt=\"Nature and sunrise\"> */}\n          </div>\n        ) : null}\n      </GoogleMap>\n    </MapOptions>\n  );\n}\nexport default MapViolation;\nconst useStyles = makeStyles(() => ({\n  slider: {\n    width: 450,\n  },\n  slidercontent: {\n    width: \"100%\",\n    position: \"relative\",\n    \"&:hover div:last-child\": {\n      opacity: 1,\n    },\n  },\n  slidebutton: {\n    transition: \"0.2s\",\n    position: \"absolute\",\n    top: \"50%\",\n    width: \"100%\",\n    display: \"flex\",\n    // height: \"100%\",\n    justifyContent: \"space-between\",\n    opacity: 0,\n    // \"&:hover\": {\n    //   opacity: 1,\n    // },\n  },\n  imgpopup: {\n    cursor: \"pointer\",\n    width: \"450px\",\n    height: 300,\n  },\n  title: {\n    fontWeight: 500,\n    fontFamily: \"Nunito, sans-serif\",\n  },\n  dialog: {\n    height: \"100%\",\n    width: \"100%\",\n  },\n  imagepopup: {\n    width: 350,\n  },\n  infotitlepopup: {\n    cursor: \"pointer\",\n    color: \"#3c16ce\",\n    float: \"right\",\n    marginTop: \"-40px\",\n  },\n  icon: {\n    fontSize: 14,\n    marginLeft: 5,\n  },\n  titlepopup: {\n    padding: 20,\n  },\n  next: {\n    width: 30,\n    height: 30,\n    borderRadius: \"50%\",\n    transition: \"0.5s\",\n    color: \"black\",\n    cursor: \"pointer\",\n    border: \"none\",\n    backgroundColor: \"white\",\n  },\n  prev: {\n    width: 30,\n    height: 30,\n    borderRadius: \"50%\",\n    transition: \"0.5s\",\n    color: \"black\",\n    border: \"none\",\n    cursor: \"pointer\",\n    backgroundColor: \"white\",\n  },\n  iconbutton: {\n    marginTop: 2,\n    marginLeft: 2,\n  },\n  font: {\n    fontFamily: \"Nunito, sans-serif\",\n  },\n  table: {\n    height: \"80%\",\n  },\n}));\n"]},"metadata":{},"sourceType":"module"}