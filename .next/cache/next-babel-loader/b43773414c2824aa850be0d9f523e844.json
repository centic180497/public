{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport axios from 'axios';\nvar HEADER_AUTH = 'Authorization';\nvar HEADER_BEARER = 'BEARER';\n\nvar Client = /*#__PURE__*/function () {\n  function Client() {\n    var _this = this;\n\n    _classCallCheck(this, Client);\n\n    _defineProperty(this, \"token\", '');\n\n    _defineProperty(this, \"url\", 'http://103.101.76.162:9002');\n\n    _defineProperty(this, \"urlPolitical\", 'http://103.101.76.162:9002');\n\n    _defineProperty(this, \"urlVersion\", '/api/v1');\n\n    _defineProperty(this, \"defaultHeaders\", {});\n\n    _defineProperty(this, \"userId\", '');\n\n    _defineProperty(this, \"userRole\", void 0);\n\n    _defineProperty(this, \"login\", function (username, password) {});\n\n    _defineProperty(this, \"logout\", function () {});\n\n    _defineProperty(this, \"getProvinces\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$_this$doFetchW, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.doFetchWithResponse(\"\".concat(_this.getPolitical(), \"/provinces\"), {\n                method: 'get',\n                data: {}\n              });\n\n            case 2:\n              _yield$_this$doFetchW = _context.sent;\n              data = _yield$_this$doFetchW.data;\n              return _context.abrupt(\"return\", data);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(this, \"getDistricts\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(code) {\n        var _yield$_this$doFetchW2, data;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this.doFetchWithResponse(\"\".concat(_this.getPolitical(), \"/districts?province=\").concat(code), {\n                  method: 'get',\n                  data: {}\n                });\n\n              case 2:\n                _yield$_this$doFetchW2 = _context2.sent;\n                data = _yield$_this$doFetchW2.data;\n                return _context2.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"getCommunes\", /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(code) {\n        var _yield$_this$doFetchW3, data;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.doFetchWithResponse(\"\".concat(_this.getPolitical(), \"/communes?district=\").concat(code), {\n                  method: 'get',\n                  data: {}\n                });\n\n              case 2:\n                _yield$_this$doFetchW3 = _context3.sent;\n                data = _yield$_this$doFetchW3.data;\n                return _context3.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"getDataNoParking\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var _yield$_this$doFetchW4, data;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _this.doFetchWithResponse(\"\".concat(_this.getNoParkingRoute()), {\n                method: 'get',\n                data: {}\n              });\n\n            case 2:\n              _yield$_this$doFetchW4 = _context4.sent;\n              data = _yield$_this$doFetchW4.data;\n              return _context4.abrupt(\"return\", data);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    })));\n\n    _defineProperty(this, \"getDataNoParkingDetail\", /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id) {\n        var _yield$_this$doFetchW5, data;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return _this.doFetchWithResponse(\"\".concat(_this.getDetailNoParking(id)), {\n                  method: 'get',\n                  data: {\n                    id: id\n                  }\n                });\n\n              case 2:\n                _yield$_this$doFetchW5 = _context5.sent;\n                data = _yield$_this$doFetchW5.data;\n                return _context5.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x3) {\n        return _ref5.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"addOneNoParking\", /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(payload) {\n        var _yield$_this$doFetchW6, data;\n\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return _this.doFetchWithResponse(\"\".concat(_this.getNoParkingRoute()), {\n                  method: 'post',\n                  data: _objectSpread({}, payload)\n                });\n\n              case 2:\n                _yield$_this$doFetchW6 = _context6.sent;\n                data = _yield$_this$doFetchW6.data;\n                return _context6.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x4) {\n        return _ref6.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"updateOneNoParking\", /*#__PURE__*/function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(payload) {\n        var _yield$_this$doFetchW7, data;\n\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return _this.doFetchWithResponse(\"\".concat(_this.getDetailNoParking(payload.id)), {\n                  method: 'put',\n                  data: _objectSpread({}, payload)\n                });\n\n              case 2:\n                _yield$_this$doFetchW7 = _context7.sent;\n                data = _yield$_this$doFetchW7.data;\n                return _context7.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function (_x5) {\n        return _ref7.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"deleteOneNoParking\", /*#__PURE__*/function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id) {\n        var _yield$_this$doFetchW8, data;\n\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return _this.doFetchWithResponse(\"\".concat(_this.getDetailNoParking(id)), {\n                  method: 'delete',\n                  data: {\n                    id: id\n                  }\n                });\n\n              case 2:\n                _yield$_this$doFetchW8 = _context8.sent;\n                data = _yield$_this$doFetchW8.data;\n                return _context8.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      return function (_x6) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"searchParking\", /*#__PURE__*/function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(payload) {\n        var _yield$_this$doFetchW9, data;\n\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return _this.doFetchWithResponse(\"\".concat(_this.getParkingRoute(), \"?district=\").concat(payload.district, \"&commune=\").concat(payload.commune, \"&type=\").concat(payload.type, \"&query=\").concat(payload.q, \"&fee=\").concat(payload.fee), {\n                  method: 'get',\n                  data: {}\n                });\n\n              case 2:\n                _yield$_this$doFetchW9 = _context9.sent;\n                data = _yield$_this$doFetchW9.data;\n                return _context9.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      return function (_x7) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"searchNoParking\", /*#__PURE__*/function () {\n      var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(payload) {\n        var _yield$_this$doFetchW10, data;\n\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.next = 2;\n                return _this.doFetchWithResponse(\"\".concat(_this.getNoParkingRoute(), \"?type=\").concat(payload.type, \"&query=\").concat(payload.q), {\n                  method: 'get',\n                  data: {}\n                });\n\n              case 2:\n                _yield$_this$doFetchW10 = _context10.sent;\n                data = _yield$_this$doFetchW10.data;\n                return _context10.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function (_x8) {\n        return _ref10.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"getParking\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n      var _yield$_this$doFetchW11, data;\n\n      return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return _this.doFetchWithResponse(\"\".concat(_this.getParkingRoute()), {\n                method: 'get',\n                data: {}\n              });\n\n            case 2:\n              _yield$_this$doFetchW11 = _context11.sent;\n              data = _yield$_this$doFetchW11.data;\n              return _context11.abrupt(\"return\", data);\n\n            case 5:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    })));\n\n    _defineProperty(this, \"doFetch\", /*#__PURE__*/function () {\n      var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12(url, options) {\n        var _yield$_this$doFetchW12, data;\n\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return _this.doFetchWithResponse(url, options);\n\n              case 2:\n                _yield$_this$doFetchW12 = _context12.sent;\n                data = _yield$_this$doFetchW12.data;\n                return _context12.abrupt(\"return\", data);\n\n              case 5:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12);\n      }));\n\n      return function (_x9, _x10) {\n        return _ref12.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(this, \"doFetchWithResponse\", /*#__PURE__*/function () {\n      var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(url, options) {\n        var response, data, headers;\n        return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.prev = 0;\n                _context13.next = 3;\n                return axios(_objectSpread({\n                  url: url\n                }, _this.getOptions(options)));\n\n              case 3:\n                response = _context13.sent;\n                data = response.data, headers = response.headers;\n                return _context13.abrupt(\"return\", {\n                  data: data,\n                  headers: headers\n                });\n\n              case 8:\n                _context13.prev = 8;\n                _context13.t0 = _context13[\"catch\"](0);\n                return _context13.abrupt(\"return\", _context13.t0.messages);\n\n              case 11:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, null, [[0, 8]]);\n      }));\n\n      return function (_x11, _x12) {\n        return _ref13.apply(this, arguments);\n      };\n    }());\n  }\n\n  _createClass(Client, [{\n    key: \"getUrl\",\n    value: function getUrl() {\n      return this.url;\n    }\n  }, {\n    key: \"setUrl\",\n    value: function setUrl(url) {\n      this.url = url;\n    }\n  }, {\n    key: \"getUrlVersion\",\n    value: function getUrlVersion() {\n      return this.urlVersion;\n    }\n  }, {\n    key: \"getToken\",\n    value: function getToken() {\n      return this.token;\n    }\n  }, {\n    key: \"setToken\",\n    value: function setToken(token) {\n      this.token = token;\n    }\n  }, {\n    key: \"setUserId\",\n    value: function setUserId(userId) {\n      this.userId = userId;\n    }\n  }, {\n    key: \"setUserRole\",\n    value: function setUserRole(userRole) {\n      this.userRole = userRole;\n    }\n  }, {\n    key: \"getBaseRoute\",\n    value: function getBaseRoute() {\n      return \"\".concat(this.url).concat(this.urlVersion);\n    }\n  }, {\n    key: \"getBaseRoutePolitical\",\n    value: function getBaseRoutePolitical() {\n      return \"\".concat(this.urlPolitical).concat(this.urlVersion);\n    }\n  }, {\n    key: \"getUsersRoute\",\n    value: function getUsersRoute() {\n      return \"\".concat(this.getBaseRoute(), \"/users\");\n    }\n  }, {\n    key: \"getParkingRoute\",\n    value: function getParkingRoute() {\n      return \"\".concat(this.getBaseRoute(), \"/parking\");\n    }\n  }, {\n    key: \"getNoParkingRoute\",\n    value: function getNoParkingRoute() {\n      return \"\".concat(this.getBaseRoute(), \"/no_parking\");\n    }\n  }, {\n    key: \"getPolitical\",\n    value: function getPolitical() {\n      return \"\".concat(this.getBaseRoutePolitical(), \"/political\");\n    }\n  }, {\n    key: \"getDetailNoParking\",\n    value: function getDetailNoParking(id) {\n      return \"\".concat(this.getBaseRoute(), \"/no_parking/\").concat(id);\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions(options) {\n      var newOptions = _objectSpread({}, options);\n\n      var headers = _objectSpread({}, this.defaultHeaders);\n\n      if (options.headers) {\n        headers = _objectSpread(_objectSpread({}, headers), options.headers);\n      }\n\n      if (this.token) {\n        headers[HEADER_AUTH] = \"\".concat(HEADER_BEARER, \" \").concat(this.token);\n      }\n\n      return _objectSpread(_objectSpread({}, newOptions), {}, {\n        headers: headers\n      });\n    }\n  }]);\n\n  return Client;\n}();\n\nexport { Client as default };","map":null,"metadata":{},"sourceType":"module"}